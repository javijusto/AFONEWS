{"ast":null,"code":"import { useUser } from './UserContext';\nimport { useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Loading from './Loading';\n/*\r\nfunction Login() {\r\n  const [user, setUser] = useUser()\r\n\r\n  const [username, setUserName] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [status, setStatus] = useState(null)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    setStatus('loading')\r\n    try {\r\n      const res = await fetch('https:/localhost:4000/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n      })\r\n      if (!res.ok) throw new Error(res.statusText)\r\n      const data = await res.json()\r\n      setUser(data)\r\n      setStatus('success')\r\n    } catch (e) {\r\n      console.warn(e)\r\n      setStatus('error')\r\n    }\r\n  }\r\n\r\n  if (user) return <Navigate to=\"/\" />\r\n\r\n  return (\r\n    <div className='Login'>\r\n      <form onsubmit={handleSubmit}>\r\n        <fieldset>\r\n        <legend>User</legend>\r\n        <input placeholder=\"Username...\" type=\"text\" onChange={e => setUserName(e.target.value)}/>\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>\r\n            Pass\r\n          </legend>\r\n          <input placeholder=\"Password...\" type=\"text\" onChange={e => setPassword(e.target.value)}/>\r\n        </fieldset>\r\n        <button disabled={status === 'loading'}>\r\n          {status === 'loading' ? <Loading /> : 'Entrar'}\r\n        </button>\r\n        {status === 'error' &&\r\n          <p className=\"error\">\r\n            Error de login\r\n          </p>\r\n        }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login*/","map":{"version":3,"names":["useUser","useState","Navigate","Loading"],"sources":["C:/Users/javie/Desktop/FINAL/Front-End/noticias-app/src/components/Login.js"],"sourcesContent":["import { useUser } from './UserContext';\r\nimport { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport Loading from './Loading'\r\n/*\r\nfunction Login() {\r\n  const [user, setUser] = useUser()\r\n\r\n  const [username, setUserName] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [status, setStatus] = useState(null)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    setStatus('loading')\r\n    try {\r\n      const res = await fetch('https:/localhost:4000/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n      })\r\n      if (!res.ok) throw new Error(res.statusText)\r\n      const data = await res.json()\r\n      setUser(data)\r\n      setStatus('success')\r\n    } catch (e) {\r\n      console.warn(e)\r\n      setStatus('error')\r\n    }\r\n  }\r\n\r\n  if (user) return <Navigate to=\"/\" />\r\n\r\n  return (\r\n    <div className='Login'>\r\n      <form onsubmit={handleSubmit}>\r\n        <fieldset>\r\n        <legend>User</legend>\r\n        <input placeholder=\"Username...\" type=\"text\" onChange={e => setUserName(e.target.value)}/>\r\n        </fieldset>\r\n        <fieldset>\r\n          <legend>\r\n            Pass\r\n          </legend>\r\n          <input placeholder=\"Password...\" type=\"text\" onChange={e => setPassword(e.target.value)}/>\r\n        </fieldset>\r\n        <button disabled={status === 'loading'}>\r\n          {status === 'loading' ? <Loading /> : 'Entrar'}\r\n        </button>\r\n        {status === 'error' &&\r\n          <p className=\"error\">\r\n            Error de login\r\n          </p>\r\n        }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login*/"],"mappings":"AAAA,SAASA,OAAT,QAAwB,eAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}