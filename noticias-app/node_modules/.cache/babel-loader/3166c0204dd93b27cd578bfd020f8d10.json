{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useUser } from '../components/UserContext';\n\nconst UseFetch = url => {\n  _s();\n\n  const [user] = useUser();\n  const token = user === null || user === void 0 ? void 0 : user.token;\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        let params = !token ? {} : {\n          headers: {\n            'Authorization': 'Bearer ' + token\n          }\n        };\n        const res = await fetch(url, params);\n        if (!res.ok) throw new Error(res.statusText);\n        const data = await res.json();\n        setData(data);\n      } catch (err) {\n        console.warn(err);\n      }\n    };\n\n    loadData();\n  }, [url, token]);\n  return data;\n};\n\n_s(UseFetch, \"TO3CsvFZIoNbioLUSxy9tVFivsA=\", false, function () {\n  return [useUser];\n});\n\n_c = UseFetch;\nexport default UseFetch;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseFetch\");","map":{"version":3,"names":["useState","useEffect","useUser","UseFetch","url","user","token","data","setData","loadData","params","headers","res","fetch","ok","Error","statusText","json","err","console","warn"],"sources":["C:/Users/javie/Desktop/FINAL/Front-End/noticias-app/src/hooks/UseFetch.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useUser } from '../components/UserContext'\n\nconst UseFetch = (url) => {\n  const [user] = useUser()\n  const token = user?.token\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        let params = !token ? {} : {\n          headers: { 'Authorization': 'Bearer ' + token }\n        }\n        const res = await fetch(url, params)\n        if (!res.ok) throw new Error(res.statusText)\n        const data = await res.json()\n        setData(data)\n      } catch (err) {\n        console.warn(err)\n      }\n    }\n    loadData()\n  }, [url, token])\n\n  return data\n}\n\nexport default UseFetch\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,2BAAxB;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EACxB,MAAM,CAACC,IAAD,IAASH,OAAO,EAAtB;EACA,MAAMI,KAAK,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEC,KAApB;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,IAAD,CAAhC;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMQ,QAAQ,GAAG,YAAY;MAC3B,IAAI;QACF,IAAIC,MAAM,GAAG,CAACJ,KAAD,GAAS,EAAT,GAAc;UACzBK,OAAO,EAAE;YAAE,iBAAiB,YAAYL;UAA/B;QADgB,CAA3B;QAGA,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAACT,GAAD,EAAMM,MAAN,CAAvB;QACA,IAAI,CAACE,GAAG,CAACE,EAAT,EAAa,MAAM,IAAIC,KAAJ,CAAUH,GAAG,CAACI,UAAd,CAAN;QACb,MAAMT,IAAI,GAAG,MAAMK,GAAG,CAACK,IAAJ,EAAnB;QACAT,OAAO,CAACD,IAAD,CAAP;MACD,CARD,CAQE,OAAOW,GAAP,EAAY;QACZC,OAAO,CAACC,IAAR,CAAaF,GAAb;MACD;IACF,CAZD;;IAaAT,QAAQ;EACT,CAfQ,EAeN,CAACL,GAAD,EAAME,KAAN,CAfM,CAAT;EAiBA,OAAOC,IAAP;AACD,CAvBD;;GAAMJ,Q;UACWD,O;;;KADXC,Q;AAyBN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}